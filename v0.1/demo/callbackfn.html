<html>
	<head>
		<script src="http://g.tbcdn.cn/kissy/k/1.4.4/seed.js" 
			data-config="{combine:true}"></script>		
	</head>
	<body>	
		<div id="floor1" class='floor'>
			<img src="" data-ks-lazyload="img/fj.png" />
			<textarea class="cls-ks-lazyload">
				<div class="bg">
					content 1
				</div>
				<script>
					console.log('Load 1');
				</script>
			</textarea>
		</div>

		<div id="floor2" class='floor'>
			<img src="" data-ks-lazyload="img/fj.png" />
			<textarea class="cls-ks-lazyload">
				<div class="bg">
					content 2
				</div>
				<script>
					console.log('Load 2');
				</script>
			</textarea>
		</div>		

		<div id="floor3" class='floor'>
			<img src="" data-ks-lazyload="img/fj.png" />
			<textarea class="cls-ks-lazyload">
				<div class="bg">
					content 3
				</div>
				<script>
					console.log('Load 3');
				</script>
			</textarea>
		</div>				


		<style>
			.bg {
				background: #666;
			}

			.floor {
				height: 300px;
				margin: 10px;
			}
		</style>

		<script>
			KISSY.config({
				packages: {
					'my': {
						combine: false,
						debug: true,
						ignorePackageNameInUri:true,
						base: './pkg/v0.0.1/'
					}
				}
			});

			KISSY.use('my/lazyload', function(S, Lazyload) {
				var lazyLoad = new Lazyload(['#floor3'], {
					callback: [
						{ele: '#floor1', fn: function(){ alert('callback 1'); } },
						{ele: '#floor2', fn: function(){ alert('callback 2'); } }
					]
				});
			});
		</script>
	</body>
</html>